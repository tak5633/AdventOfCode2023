package main

import (
	"log"
	"os"
	"strings"
)

//--------------------------------------------------------------------------------------------------
//
//--------------------------------------------------------------------------------------------------
func main() {
   part1()
}

//--------------------------------------------------------------------------------------------------
//
//--------------------------------------------------------------------------------------------------
func part1() {

   log.Println("Part 1")

   input := ReadInput()

	hash := GetHash(input)
	log.Println("Hash:", hash)
}

//--------------------------------------------------------------------------------------------------
//
//--------------------------------------------------------------------------------------------------
func ReadInput() string {

   input, err := os.ReadFile("./input.txt")
   check(err)

   return string(input)
}

//--------------------------------------------------------------------------------------------------
//
//--------------------------------------------------------------------------------------------------
func check(pE error) {

   if pE != nil {
      panic(pE)
   }
}

//--------------------------------------------------------------------------------------------------
//
//--------------------------------------------------------------------------------------------------
func GetHash(pInput string) int {

	hash := 0
   inputs := strings.Split(pInput, ",")

	for _, input := range inputs {
	   hash += GetStepHash(input)
	}

	return hash
}

//--------------------------------------------------------------------------------------------------
//
//--------------------------------------------------------------------------------------------------
func GetStepHash(pInput string) int {
	hash := 0

   for i := range pInput {
		inputRune := rune(pInput[i])

		if inputRune != '\n' {
			hash = GetNewHash(hash, inputRune)
		}
   }

	return hash
}

//--------------------------------------------------------------------------------------------------
//
//--------------------------------------------------------------------------------------------------
func GetNewHash(pHash int, pRune rune) int {
	newHash := pHash + int(pRune)
	newHash *= 17
	newHash %= 256

	return newHash
}
